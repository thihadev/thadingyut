{"ast":null,"code":"import{useState}from'react';import{useDispatch}from'react-redux';import{motion}from'framer-motion';import{Button}from'./ui/button';import{Input}from'./ui/input';import{Textarea}from'./ui/textarea';import{ref,push}from'firebase/database';import{database}from'../firebase';import{addWish}from'../store/wishesSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WishForm=()=>{const[name,setName]=useState('');const[wish,setWish]=useState('');const[isSubmitting,setIsSubmitting]=useState(false);const[showSuccess,setShowSuccess]=useState(false);const dispatch=useDispatch();const handleSubmit=async e=>{e.preventDefault();if(!name.trim()||!wish.trim())return;setIsSubmitting(true);try{const wishData={name:name.trim(),wish:wish.trim(),timestamp:Date.now(),id:Date.now()+Math.random()};// Add to Firebase\nconst wishRef=ref(database,'wishes');await push(wishRef,wishData);// Add to Redux store for immediate UI update\ndispatch(addWish(wishData));// Reset form and show success\nsetName('');setWish('');setShowSuccess(true);setTimeout(()=>setShowSuccess(false),3000);}catch(error){console.error('Error submitting wish:',error);alert('Failed to send wish. Please try again.');}finally{setIsSubmitting(false);}};return/*#__PURE__*/_jsxs(motion.div,{className:\"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl max-w-md mx-auto\",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:0.8},children:[showSuccess&&/*#__PURE__*/_jsx(motion.div,{className:\"bg-green-500/20 border border-green-400 text-green-100 px-4 py-3 rounded-lg mb-4\",initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1},children:\"\\uD83C\\uDF89 Your wish has been sent to the sky!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white font-semibold mb-2\",children:\"Your Name\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",value:name,onChange:e=>setName(e.target.value),placeholder:\"Enter your name\",className:\"bg-white/90 border-0 focus:ring-2 focus:ring-yellow-400\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white font-semibold mb-2\",children:\"Your Thadingyut Wish\"}),/*#__PURE__*/_jsx(Textarea,{value:wish,onChange:e=>setWish(e.target.value),placeholder:\"Make your wish for the Festival of Lights...\",rows:3,className:\"bg-white/90 border-0 focus:ring-2 focus:ring-yellow-400 resize-none\",required:true})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:isSubmitting||!name.trim()||!wish.trim(),className:\"w-full bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-black font-bold py-3 rounded-full transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\",children:isSubmitting?'üèÆ Sending...':'üèÆ Send My Wish to the Sky'})]})]});};export default WishForm;","map":{"version":3,"names":["useState","useDispatch","motion","Button","Input","Textarea","ref","push","database","addWish","jsx","_jsx","jsxs","_jsxs","WishForm","name","setName","wish","setWish","isSubmitting","setIsSubmitting","showSuccess","setShowSuccess","dispatch","handleSubmit","e","preventDefault","trim","wishData","timestamp","Date","now","id","Math","random","wishRef","setTimeout","error","console","alert","div","className","initial","opacity","y","animate","transition","duration","children","scale","onSubmit","type","value","onChange","target","placeholder","required","rows","disabled"],"sources":["/Users/thiha/AmazonQ/thadingyut/src/components/WishForm.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { motion } from 'framer-motion';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Textarea } from './ui/textarea';\nimport { ref, push } from 'firebase/database';\nimport { database } from '../firebase';\nimport { addWish } from '../store/wishesSlice';\n\nconst WishForm = () => {\n  const [name, setName] = useState('');\n  const [wish, setWish] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [showSuccess, setShowSuccess] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!name.trim() || !wish.trim()) return;\n\n    setIsSubmitting(true);\n    \n    try {\n      const wishData = {\n        name: name.trim(),\n        wish: wish.trim(),\n        timestamp: Date.now(),\n        id: Date.now() + Math.random()\n      };\n\n      // Add to Firebase\n      const wishRef = ref(database, 'wishes');\n      await push(wishRef, wishData);\n      \n      // Add to Redux store for immediate UI update\n      dispatch(addWish(wishData));\n      \n      // Reset form and show success\n      setName('');\n      setWish('');\n      setShowSuccess(true);\n      setTimeout(() => setShowSuccess(false), 3000);\n      \n    } catch (error) {\n      console.error('Error submitting wish:', error);\n      alert('Failed to send wish. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <motion.div\n      className=\"bg-white/10 backdrop-blur-lg rounded-3xl p-8 border border-white/20 shadow-2xl max-w-md mx-auto\"\n      initial={{ opacity: 0, y: 50 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.8 }}\n    >\n      {showSuccess && (\n        <motion.div\n          className=\"bg-green-500/20 border border-green-400 text-green-100 px-4 py-3 rounded-lg mb-4\"\n          initial={{ opacity: 0, scale: 0.8 }}\n          animate={{ opacity: 1, scale: 1 }}\n        >\n          üéâ Your wish has been sent to the sky!\n        </motion.div>\n      )}\n      \n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        <div>\n          <label className=\"block text-white font-semibold mb-2\">\n            Your Name\n          </label>\n          <Input\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            placeholder=\"Enter your name\"\n            className=\"bg-white/90 border-0 focus:ring-2 focus:ring-yellow-400\"\n            required\n          />\n        </div>\n        \n        <div>\n          <label className=\"block text-white font-semibold mb-2\">\n            Your Thadingyut Wish\n          </label>\n          <Textarea\n            value={wish}\n            onChange={(e) => setWish(e.target.value)}\n            placeholder=\"Make your wish for the Festival of Lights...\"\n            rows={3}\n            className=\"bg-white/90 border-0 focus:ring-2 focus:ring-yellow-400 resize-none\"\n            required\n          />\n        </div>\n        \n        <Button\n          type=\"submit\"\n          disabled={isSubmitting || !name.trim() || !wish.trim()}\n          className=\"w-full bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600 text-black font-bold py-3 rounded-full transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {isSubmitting ? 'üèÆ Sending...' : 'üèÆ Send My Wish to the Sky'}\n        </Button>\n      </form>\n    </motion.div>\n  );\n};\n\nexport default WishForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}